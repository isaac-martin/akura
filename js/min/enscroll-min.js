!function(t,e,r,n){var l={verticalScrolling:!0,horizontalScrolling:!1,verticalScrollerSide:"right",showOnHover:!1,scrollIncrement:20,minScrollbarLength:40,pollChanges:!0,drawCorner:!0,drawScrollButtons:!1,clickTrackToScroll:!0,easingDuration:500,propagateWheelEvent:!0,verticalTrackClass:"vertical-track",horizontalTrackClass:"horizontal-track",horizontalHandleClass:"horizontal-handle",verticalHandleClass:"vertical-handle",scrollUpButtonClass:"scroll-up-btn",scrollDownButtonClass:"scroll-down-btn",scrollLeftButtonClass:"scroll-left-btn",scrollRightButtonClass:"scroll-right-btn",cornerClass:"scrollbar-corner",zIndex:1,addPaddingToPane:!0,horizontalHandleHTML:'<div class="left"></div><div class="right"></div>',verticalHandleHTML:'<div class="top"></div><div class="bottom"></div>'},o=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},i=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){setTimeout(t,17)},s=function(e,r){var n=t(e).css(r),l=/^-?\d+/.exec(n);return l?+l[0]:0},a=function(t){var e,r,n={width:"5px",height:"1px",overflow:"hidden",padding:"8px 0",visibility:"hidden",whiteSpace:"pre-line",font:"10px/1 serif"},l=document.createElement(t),o=document.createTextNode("a\na");for(r in n)l.style[r]=n[r];return l.appendChild(o),document.body.appendChild(l),e=l.scrollHeight<28,document.body.removeChild(l),e},c=.5*Math.PI,h=10*Math.log(2),d=function(t,e,r){var n=c/e,l=t*n;return Math.round(l*Math.cos(n*r))},u=function(t,e,r){return Math.round(t*h*Math.pow(2,-10*r/e+1)/e)},p=function(t,e,r,n){return 2*r/Math.PI*Math.asin((n-t)/e)},g=function(e){var r=t(this).data("enscroll"),n=this,l=r.settings,o=function(){var e=t(this).data("enscroll"),r=e.settings;e&&r.showOnHover&&(r.verticalScrolling&&t(e.verticalTrackWrapper).is(":visible")&&t(e.verticalTrackWrapper).stop().fadeTo(275,0),r.horizontalScrolling&&t(e.horizontalTrackWrapper).is(":visible")&&t(e.horizontalTrackWrapper).stop().fadeTo(275,0),e._fadeTimer=null)};r&&l.showOnHover&&(r._fadeTimer?clearTimeout(r._fadeTimer):(l.verticalScrolling&&t(r.verticalTrackWrapper).is(":visible")&&t(r.verticalTrackWrapper).stop().fadeTo(275,1),l.horizontalScrolling&&t(r.horizontalTrackWrapper).is(":visible")&&t(r.horizontalTrackWrapper).stop().fadeTo(275,1)),e!==!1&&(r._fadeTimer=setTimeout(function(){o.call(n)},1750)))},f=function(e,r){var n=t(e),l=n.data("enscroll"),o=n.scrollTop();l&&l.settings.verticalScrolling&&(n.scrollTop(o+r),l.settings.showOnHover&&g.call(e))},v=function(e,r){var n=t(e),l=n.data("enscroll"),o=n.scrollLeft();l&&l.settings.horizontalScrolling&&(n.scrollLeft(o+r),l.settings.showOnHover&&g.call(e))},m=function(e){if(1===e.which){var n,l,o,s,a,c,h,d,u,p=e.data.pane,f=t(p),v=f.data("enscroll"),m=!0,y=function(){m&&(o!==s&&(v._scrollingY||(v._scrollingY=!0,v._startY=f.scrollTop(),i(function(){T(f)})),l.style.top=o+"px",v._endY=o*u/d,s=o),i(y),v.settings.showOnHover&&g.call(p))},w=function(t){return m&&(o=t.clientY-c-a,o=Math.min(0>o?0:o,d)),!1},_=function(){return m=!1,r.body.style.cursor=h,this.style.cursor="",n.removeClass("dragging"),t(r.body).off("mousemove.enscroll.vertical").off("mouseup.enscroll.vertical"),t(r).off("mouseout.enscroll.vertical"),f.on("scroll.enscroll.pane",function(t){k.call(this,t)}),!1};return n=t(v.verticalTrackWrapper).find(".enscroll-track"),l=n.children().first()[0],o=parseInt(l.style.top,10),u=p.scrollHeight-(v._scrollHeightNoPadding?t(p).height():t(p).innerHeight()),a=e.clientY-t(l).offset().top,d=n.height()-t(l).outerHeight(),c=n.offset().top,f.off("scroll.enscroll.pane"),t(r.body).on({"mousemove.enscroll.vertical":w,"mouseup.enscroll.vertical":function(t){_.call(l,t)}}),t(r).on("mouseout.enscroll.vertical",function(t){t.target.nodeName&&"HTML"===t.target.nodeName.toUpperCase()&&_.call(l,t)}),n.hasClass("dragging")||(n.addClass("dragging"),h=t(r.body).css("cursor"),this.style.cursor=r.body.style.cursor="ns-resize"),i(y),!1}},y=function(e){if(1===e.which){var n,l,o,s,a,c,h,d,u,p=e.data.pane,f=t(p),v=t(p).data("enscroll"),m=!0,y=function(){m&&(o!==s&&(v._scrollingX||(v._scrollingX=!0,v._startX=f.scrollLeft(),i(function(){T(f)})),l.style.left=o+"px",v._endX=o*a/u,s=o),i(y),v.settings.showOnHover&&g.call(p))},w=function(t){return m&&(o=t.clientX-h-c,o=Math.min(0>o?0:o,u)),!1},_=function(){return m=!1,n.removeClass("dragging"),r.body.style.cursor=d,this.style.cursor="",n.removeClass("dragging"),t(r.body).off("mousemove.enscroll.horizontal").off("mouseup.enscroll.horizontal"),t(r).off("mouseout.enscroll.horizontal"),f.on("scroll.enscroll.pane",function(t){k.call(this,t)}),!1};return n=t(v.horizontalTrackWrapper).find(".enscroll-track"),l=n.children().first()[0],o=parseInt(l.style.left,10),a=p.scrollWidth-t(p).innerWidth(),c=e.clientX-t(l).offset().left,u=n.width()-t(l).outerWidth(),h=n.offset().left,f.off("scroll.enscroll.pane"),t(r.body).on({"mousemove.enscroll.horizontal":w,"mouseup.enscroll.horizontal":function(t){_.call(l,t)}}),t(r).on("mouseout.enscroll.horizontal",function(t){t.target.nodeName&&"HTML"===t.target.nodeName.toUpperCase()&&_.call(l,t)}),n.hasClass("dragging")||(n.addClass("dragging"),d=t("body").css("cursor"),this.style.cursor=r.body.style.cursor="ew-resize"),i(y),!1}},T=function(t){var e,r,n,l=t.data("enscroll"),o=l._duration;l._scrollingX===!0&&(e=l._endX-l._startX,0===e?l._scrollingX=!1:(r=t.scrollLeft(),n=p(l._startX,e,o,r),e>0?r>=l._endX||r<l._startX?l._scrollingX=!1:(v(t,Math.max(1,d(e,o,n))),i(function(){T(t)})):r<=l._endX||r>l._startX?l._scrollingX=!1:(v(t,Math.min(-1,d(e,o,n))),i(function(){T(t)})))),l._scrollingY===!0&&(e=l._endY-l._startY,0===e?l._scrollingY=!1:(r=t.scrollTop(),n=p(l._startY,e,o,r),e>0?r>=l._endY||r<l._startY?l._scrollingY=!1:(f(t,Math.max(1,d(e,o,n))),i(function(){T(t)})):r<=l._endY||r>l._startY?l._scrollingY=!1:(f(t,Math.min(-1,d(e,o,n))),i(function(){T(t)}))))},w=function(t,e){var r=t.data("enscroll"),n=t.scrollLeft(),l=t[0].scrollWidth-t.innerWidth();return!r.settings.horizontalScrolling||r._scrollingY?!1:(r._scrollingX||(r._scrollingX=!0,r._startX=n,r._endX=r._startX,i(function(){T(t)})),r._endX=e>0?Math.min(n+e,l):Math.max(0,n+e),0>e&&n>0||e>0&&l>n)},_=function(t,e){var r=t.data("enscroll"),n=t.scrollTop(),l=t[0].scrollHeight-(r._scrollHeightNoPadding?t.height():t.innerHeight());return!r.settings.verticalScrolling||r._scrollingX?!1:(r._scrollingY||(r._scrollingY=!0,r._startY=n,r._endY=r._startY,i(function(){T(t)})),r._endY=e>0?Math.min(n+e,l):Math.max(0,n+e),0>e&&n>0||e>0&&l>n)},b=function(e){var r,n=t(this),l=n.data("enscroll"),i=l.settings.scrollIncrement,s="deltaX"in e?-e.deltaX:"wheelDeltaX"in e?e.wheelDeltaX:0,a="deltaY"in e?-e.deltaY:"wheelDeltaY"in e?e.wheelDeltaY:"wheelDelta"in e?e.wheelDelta:0;Math.abs(s)>Math.abs(a)?(r=(s>0?-i:i)<<2,(w(n,r)||!l.settings.propagateWheelEvent)&&o(e)):(r=(a>0?-i:i)<<2,(_(n,r)||!l.settings.propagateWheelEvent)&&o(e))},k=function(){var e,r,n,l=t(this),o=l.data("enscroll");o&&(o.settings.verticalScrolling&&(r=t(o.verticalTrackWrapper).find(".enscroll-track")[0],e=r.firstChild,n=l.scrollTop()/(this.scrollHeight-(o._scrollHeightNoPadding?l.height():l.innerHeight())),n=isNaN(n)?0:n,e.style.top=n*(t(r).height()-t(e).outerHeight())+"px"),o.settings.horizontalScrolling&&(r=t(o.horizontalTrackWrapper).find(".enscroll-track")[0],e=r.firstChild,n=l.scrollLeft()/(this.scrollWidth-l.innerWidth()),n=isNaN(n)?0:n,e.style.left=n*(t(r).width()-t(e).innerWidth())+"px"))},C=function(e){var r,n=t(this),l=n.data("enscroll");if(!/(input)|(select)|(textarea)/i.test(this.nodeName)&&e.target===this&&l){switch(r=l.settings.scrollIncrement,e.keyCode){case 32:case 34:return _(n,n.height()),!1;case 33:return _(n,-n.height()),!1;case 35:return _(n,this.scrollHeight),!1;case 36:return _(n,-this.scrollHeight),!1;case 37:return w(n,-r),!1;case 38:return _(n,-r),!1;case 39:return w(n,r),!1;case 40:return _(n,r),!1}return!0}},z=function(){var e=this,n=t(e).data("enscroll").settings,l=!0,o=0,s=0,a=t(e).offset().top,c=a+t(e).outerHeight(),h=t(e).offset().left,d=h+t(e).outerWidth(),u=function(t){var e=t.pageX,r=t.pageY;o=h>e?e-h:e>d?e-d:0,s=a>r?r-a:r>c?r-c:0},p=function(){n.horizontalScrolling&&o&&v(e,parseInt(o/4,10)),n.verticalScrolling&&s&&f(e,parseInt(s/4,10)),l&&i(p)},g=function(){l=!1,t(r).off("mousemove.enscroll.pane").off("mouseup.enscroll.pane")};i(p),t(r).on({"mousemove.enscroll.pane":u,"mouseup.enscroll.pane":g})},W=function(t){var e,r,l,s,a,c,h,d=this,p=function(t){e=t.touches[0].clientX,r=t.touches[0].clientY,l||(l=r===a&&e===s?n:Math.abs(a-r)>Math.abs(s-e)?"y":"x"),o(t)},g=function(){c&&("y"===l?(f(d,a-r),h=a-r,a=r):"x"===l&&(v(d,s-e),h=s-e,s=e),i(g))},m=function(){var t=0,e=Math.abs(1.5*h);this.removeEventListener("touchmove",p,!1),this.removeEventListener("touchend",m,!1),c=!1,i(function r(){var n;t===e||c||(n=u(h,e,t),isNaN(n)||0===n||(t+=1,"y"===l?f(d,n):v(d,n),i(r)))})};1===t.touches.length&&(s=t.touches[0].clientX,a=t.touches[0].clientY,c=!0,this.addEventListener("touchmove",p,!1),this.addEventListener("touchend",m,!1),i(g))},H={reposition:function(){return this.each(function(){var e,r,n,l=t(this),o=l.data("enscroll"),i=function(t,e,r){t.style.left=e+"px",t.style.top=r+"px"};o&&(n=l.position(),e=o.corner,o.settings.verticalScrolling&&(r=o.verticalTrackWrapper,i(r,"right"===o.settings.verticalScrollerSide?n.left+l.outerWidth()-t(r).width()-s(this,"border-right-width"):n.left+s(this,"border-left-width"),n.top+s(this,"border-top-width"))),o.settings.horizontalScrolling&&(r=o.horizontalTrackWrapper,i(r,n.left+s(this,"border-left-width"),n.top+l.outerHeight()-t(r).height()-s(this,"border-bottom-width"))),e&&i(e,n.left+l.outerWidth()-t(e).outerWidth()-s(this,"border-right-width"),n.top+l.outerHeight()-t(e).outerHeight()-s(this,"border-bottom-width")))})},resize:function(){return this.each(function(){var e,r,n,l,o,i,s,a,c,h,d,u,p,g,f,v,m=t(this),y=m.data("enscroll");return y?(e=y.settings,void(m.is(":visible")?(e.verticalScrolling&&(l=y.verticalTrackWrapper,r=m.innerHeight(),o=r/this.scrollHeight,i=t(l).find(".enscroll-track")[0],c=t(l).find("."+e.scrollUpButtonClass),h=t(l).find("."+e.scrollDownButtonClass),a=e.horizontalScrolling?r-t(y.horizontalTrackWrapper).find(".enscroll-track").outerHeight():r,a-=t(i).outerHeight()-t(i).height()+c.outerHeight()+h.outerHeight(),p=i.firstChild,f=Math.max(o*a,e.minScrollbarLength),f-=t(p).outerHeight()-t(p).height(),l.style.display="none",i.style.height=a+"px",p.style.height=f+"px",1>o&&(o=m.scrollTop()/(this.scrollHeight-m.height()),p.style.top=o*(a-f)+"px",l.style.display="block")),e.horizontalScrolling&&(l=y.horizontalTrackWrapper,n=m.innerWidth(),o=n/this.scrollWidth,i=t(l).find(".enscroll-track")[0],d=t(l).find("."+e.scrollLeftButtonClass),u=t(l).find("."+e.scrollRightButtonClass),s=e.verticalScrolling?n-t(y.verticalTrackWrapper).find(".enscroll-track").outerWidth():n,s-=t(i).outerWidth()-t(i).width()+d.outerWidth()+u.outerWidth(),p=i.firstChild,g=Math.max(o*s,e.minScrollbarLength),g-=t(p).outerWidth()-t(p).width(),l.style.display="none",i.style.width=s+"px",p.style.width=g+"px",1>o&&(o=m.scrollLeft()/(this.scrollWidth-m.width()),p.style.left=o*(s-g)+"px",l.style.display="block"),y._prybar&&(v=y._prybar,this.removeChild(v),e.verticalScrolling&&(v.style.width=this.scrollWidth+t(y.verticalTrackWrapper).find(".enscroll-track").outerWidth()+"px",this.appendChild(v)))),y.corner&&(y.corner.style.display=y.verticalTrackWrapper&&y.horizontalTrackWrapper&&t(y.verticalTrackWrapper).is(":visible")&&t(y.horizontalTrackWrapper).is(":visible")?"":"none")):(e.verticalScrolling&&(y.verticalTrackWrapper.style.display="none"),e.horizontalScrolling&&(y.horizontalTrackWrapper.style.display="none"),y.corner&&(y.corner.style.display="none")))):!0})},startPolling:function(){return this.each(function(){var e,r=t(this).data("enscroll"),n=this,l=t(n),o=-1,i=-1,s=-1,a=-1,c=function(){if(r.settings.pollChanges){var t=n.scrollWidth,h=n.scrollHeight,d=l.width(),u=l.height(),p=l.offset();(r.settings.verticalScrolling&&(u!==i||h!==a)||r.settings.horizontalScrolling&&(d!==o||t!==s))&&(s=t,a=h,H.resize.call(l)),(e.left!==p.left||e.top!==p.top||d!==o||u!==i)&&(e=p,o=d,i=u,H.reposition.call(l)),setTimeout(c,350)}};r&&(r.settings.pollChanges=!0,a=n.scrollHeight,s=n.scrollWidth,e=l.offset(),c())})},stopPolling:function(){return this.each(function(){var e=t(this).data("enscroll");e&&(e.settings.pollChanges=!1)})},destroy:function(){return this.each(function(){var r,n,l=t(this),o=l.data("enscroll");o&&(H.stopPolling.call(l),n=o._mouseScrollHandler,o.settings.verticalScrolling&&(r=o.verticalTrackWrapper,t(r).remove(),r=null),o.settings.horizontalScrolling&&(r=o.horizontalTrackWrapper,t(r).remove(),r=null),o._fadeTimer&&clearTimeout(o._fadeTimer),o.corner&&t(o.corner).remove(),o._prybar&&o._prybar.parentNode&&o._prybar.parentNode===this&&t(o._prybar).remove(),this.setAttribute("style",o._style||""),o._hadTabIndex||l.removeAttr("tabindex"),l.off("scroll.enscroll.pane").off("keydown.enscroll.pane").off("mouseenter.enscroll.pane").off("mousedown.enscroll.pane").data("enscroll",null),this.removeEventListener?(this.removeEventListener("wheel",n,!1),this.removeEventListener("mousewheel",n,!1),this.removeEventListener("touchstart",W,!1)):this.detachEvent&&this.detachEvent("onmousewheel",n),t(e).off("resize.enscroll.window"))})}};t.fn.enscroll=function(n){var o;return H[n]?H[n].call(this):(o=t.extend({},l,n),this.each(function(){if(o.verticalScrolling||o.horizontalScrolling){var n,l,i,c,h,d,u,p,T,x,S,X,Y,E,L,M,N,I,B=t(this),P=this,D=B.attr("style"),A=!0,O={position:"absolute","z-index":o.zIndex,margin:0,padding:0},R=function(t){b.call(P,t)},q=function(e,r){"string"==typeof r?t(e).html(r):e.appendChild(r)};if(o.verticalScrolling){l=r.createElement("div"),c=r.createElement("div"),d=r.createElement("a"),t(c).css("position","relative").addClass("enscroll-track").addClass(o.verticalTrackClass).appendTo(l),o.drawScrollButtons&&(u=r.createElement("a"),p=r.createElement("a"),t(u).css({display:"block","text-decoration":"none"}).attr("href","").html("&nbsp;").addClass(o.scrollUpButtonClass).on("click",function(){return f(P,-o.scrollIncrement),!1}).insertBefore(c),t(p).css({display:"block","text-decoration":"none"}).attr("href","").html("&nbsp;").on("click",function(){return f(P,o.scrollIncrement),!1}).addClass(o.scrollDownButtonClass).appendTo(l)),o.clickTrackToScroll&&t(c).on("click",function(e){e.target===this&&_(B,e.pageY>t(d).offset().top?B.height():-B.height())}),t(d).css({position:"absolute","z-index":1}).attr("href","").addClass(o.verticalHandleClass).mousedown({pane:this},m).click(function(){return!1}).appendTo(c),q(d,o.verticalHandleHTML),t(l).css(O).insertAfter(this),o.showOnHover&&t(l).css("opacity",0).on("mouseover.enscroll.vertical",function(){g.call(P,!1)}).on("mouseout.enscroll.vertical",function(){g.call(P)}),X=t(c).outerWidth(),o.addPaddingToPane&&(I="right"===o.verticalScrollerSide?{"padding-right":s(this,"padding-right")+X+"px"}:{"padding-left":s(this,"padding-left")+X+"px"},B.css(t.extend({width:B.width()-X+"px"},I)));try{M=parseInt(B.css("outline-width"),10),0!==M&&!isNaN(M)||"none"!==B.css("outline-style")||B.css("outline","none")}catch(F){B.css("outline","none")}}o.horizontalScrolling&&(n=r.createElement("div"),i=r.createElement("div"),h=r.createElement("a"),t(i).css({position:"relative","z-index":1}).addClass("enscroll-track").addClass(o.horizontalTrackClass).appendTo(n),o.drawScrollButtons&&(T=r.createElement("a"),x=r.createElement("a"),t(T).css("display","block").attr("href","").on("click",function(){return v(P,-o.scrollIncrement),!1}).addClass(o.scrollLeftButtonClass).insertBefore(i),t(x).css("display","block").attr("href","").on("click",function(){return v(P,o.scrollIncrement),!1}).addClass(o.scrollRightButtonClass).appendTo(n)),o.clickTrackToScroll&&t(i).on("click",function(e){e.target===this&&w(B,e.pageX>t(h).offset().left?B.width():-B.width())}),t(h).css({position:"absolute","z-index":1}).attr("href","").addClass(o.horizontalHandleClass).click(function(){return!1}).mousedown({pane:this},y).appendTo(i),q(h,o.horizontalHandleHTML),t(n).css(O).insertAfter(this),o.showOnHover&&t(n).css("opacity",0).on("mouseover.enscroll.horizontal",function(){g.call(P,!1)}).on("mouseout.enscroll.horizontal",function(){g.call(P)}),S=t(i).outerHeight(),o.addPaddingToPane&&B.css({height:B.height()-S+"px","padding-bottom":parseInt(B.css("padding-bottom"),10)+S+"px"}),o.verticalScrolling&&(N=document.createElement("div"),t(N).css({width:"1px",height:"1px",visibility:"hidden",padding:0,margin:"-1px"}).appendTo(this))),o.verticalScrolling&&o.horizontalScrolling&&o.drawCorner&&(Y=r.createElement("div"),t(Y).addClass(o.cornerClass).css(O).insertAfter(this)),L=B.attr("tabindex"),L||(B.attr("tabindex",0),A=!1);try{E=B.css("outline"),(!E||E.length<1)&&B.css("outline","none")}catch(F){B.css("outline","none")}B.on({"scroll.enscroll.pane":function(t){k.call(this,t)},"keydown.enscroll.pane":C,"mousedown.enscroll.pane":z}).css("overflow","hidden").data("enscroll",{settings:o,horizontalTrackWrapper:n,verticalTrackWrapper:l,corner:Y,_prybar:N,_mouseScrollHandler:R,_hadTabIndex:A,_style:D,_scrollingX:!1,_scrollingY:!1,_startX:0,_startY:0,_endX:0,_endY:0,_duration:parseInt(o.easingDuration/16.66666,10),_scrollHeightNoPadding:a(this.nodeName)}),t(e).on("resize.enscroll.window",function(){H.reposition.call(B)}),o.showOnHover&&B.on("mouseenter.enscroll.pane",function(){g.call(this)}),this.addEventListener?("onwheel"in this||"WheelEvent"in e&&navigator.userAgent.toLowerCase().indexOf("msie")>=0?this.addEventListener("wheel",R,!1):"onmousewheel"in this&&this.addEventListener("mousewheel",R,!1),this.addEventListener("touchstart",W,!1)):this.attachEvent&&this.attachEvent("onmousewheel",R),o.pollChanges&&H.startPolling.call(B),H.resize.call(B),H.reposition.call(B)}}))}}(jQuery,window,document);